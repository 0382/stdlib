CPPFLAGS = -I../..
LDFLAGS = -L../.. -lstdlib

.PHONY: all clean test

PROGS = test_loadtxt test_savetxt test_loadtxt_qp test_savetxt_qp
OBJS = $(PROGS:=.o)


all: $(PROGS)

$(PROGS): %: %.o
	$(FC) $(FFLAGS) $(CPPFLAGS) -o $@ $^ $(LDFLAGS)

test:
	./test_loadtxt
	./test_loadtxt_qp
	./test_savetxt
	./test_savetxt_qp

clean:
	$(RM) $(PROGS) $(OBJS) tmp.dat tmp_qp.dat

%.o: %.f90
	$(FC) $(FFLAGS) $(CPPFLAGS) -c $<
